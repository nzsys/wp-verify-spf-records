<hr>

<?php if ($spfRecord->hasRecord()): ?>
    <div class="notice notice-success is-dismissible">
        <p>検証が成功しました</p>
    </div>
<?php else: ?>
    <div class="notice notice-error is-dismissible">
        <p>検証が失敗しました</p>
    </div>
<?php endif; ?>

<div class="postbox" style="padding: 0 20px; margin-top: 20px">
    <h2 class="hndle"><span>IPアドレス</span></h2>
    <div class="inside">
        <p><?php echo $converter->ipAddress(); ?></p>
    </div>
</div>

<div class="postbox" style="padding: 0 20px; margin-top: 20px">
    <h2 class="hndle"><span>SPFレコード</span></h2>
    <div class="inside">
        <?php foreach ($spfRecord->getRecords() as $record): ?>
            <?php if ($hasIp): ?>
                <?php $styledRecord = str_replace($converter->ipAddress(), '<span style="background-color: lightblue;">' . $converter->ipAddress() . '</span>', $record); ?>
            <?php else: ?>
                <?php $styledRecord = $record; ?>
            <?php endif; ?>
            <p><?php echo $styledRecord; ?></p>
        <?php endforeach; ?>
    </div>
</div>

<?php require_once __DIR__ . $_ENV['PLUGIN_PAGE_SETUP']; ?>
